<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Knowledge Check &middot; GitHub Training
    
  </title>

  <!-- CSS -->
  <link rel="preload" href="/public/css/main.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="/public/css/main.css"></noscript>

  <!-- GLightbox CSS for Image Modals -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.2.0/dist/css/glightbox.min.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
</head>


  <body class="training-layout">

    <a href="#main-content" class="skip-link">Skip to main content</a>

    <header class="training-header">
  <div class="container">
    <div class="training-header-inner">
      <div class="training-brand">
        <a href="/" class="training-logo">
          <svg height="32" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="32" class="octicon">
            <path fill="currentColor" d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path>
          </svg>
          <span class="training-title">GitHub Training</span>
        </a>
        <span class="training-tagline">CSM & CSA Certification Program</span>
      </div>
      
      <nav class="training-nav" aria-label="Training navigation">
        <a href="/" class="training-nav-link">
          <svg class="nav-icon" aria-hidden="true" height="16" viewBox="0 0 16 16" width="16">
            <path fill="currentColor" d="M8.156 1.835a.25.25 0 00-.312 0l-5.25 4.2a.25.25 0 00-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 01.75-.75h3.5a.75.75 0 01.75.75v5.25h2.75a.25.25 0 00.25-.25V6.23a.25.25 0 00-.094-.195z"></path>
          </svg>
          Home
        </a>
        <a href="/beginner/" class="training-nav-link active">
          <svg class="nav-icon" aria-hidden="true" height="16" viewBox="0 0 16 16" width="16">
            <path fill="currentColor" d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0114.25 16H1.75A1.75 1.75 0 010 14.25V1.75zm1.75-.25a.25.25 0 00-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 00.25-.25V1.75a.25.25 0 00-.25-.25H1.75zM3.5 6.25a.75.75 0 01.75-.75h7a.75.75 0 010 1.5h-7a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000 1.5h4a.75.75 0 000-1.5h-4z"></path>
          </svg>
          Beginner
        </a>
        <a href="/intermediate/" class="training-nav-link">
          <svg class="nav-icon" aria-hidden="true" height="16" viewBox="0 0 16 16" width="16">
            <path fill="currentColor" d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
            <path fill="currentColor" d="M8 0a8 8 0 110 16A8 8 0 018 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"></path>
          </svg>
          Intermediate
        </a>
        <a href="/advanced/" class="training-nav-link">
          <svg class="nav-icon" aria-hidden="true" height="16" viewBox="0 0 16 16" width="16">
            <path fill="currentColor" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25z"></path>
          </svg>
          Advanced
        </a>
      </nav>
    </div>
  </div>
</header>


    <!-- Main content area with sidebar -->
    <div class="training-container">
      
      <!-- Sidebar navigation -->
      <aside class="training-sidebar">
        <div class="training-sidebar-sticky">
          
          
          <div class="sidebar-section">
            <h3 class="sidebar-heading">üå± Beginner Phase</h3>
            <nav class="sidebar-nav">
              <a href="/beginner/" class="sidebar-link">Phase Overview</a>
              <a href="/beginner/module-1/" class="sidebar-link">Module 1: SDLC</a>
              <a href="/beginner/module-2/" class="sidebar-link">Module 2: Git</a>
              <a href="/beginner/module-3/" class="sidebar-link">Module 3: GitHub Platform</a>
              <a href="/beginner/module-4/" class="sidebar-link active">Module 4: SCM Process</a>
            </nav>
          </div>
          
          
          
          
          
          
          <div class="sidebar-section">
            <h3 class="sidebar-heading">Resources</h3>
            <nav class="sidebar-nav">
              <a href="/syllabus/" class="sidebar-link">Full Syllabus</a>
              <a href="https://docs.github.com/" class="sidebar-link" target="_blank" rel="noopener">
                GitHub Docs
                <svg class="external-icon" aria-hidden="true" height="12" viewBox="0 0 16 16" width="12">
                  <path fill="currentColor" d="M3.75 2h3.5a.75.75 0 010 1.5h-3.5a.25.25 0 00-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 00.25-.25v-3.5a.75.75 0 011.5 0v3.5A1.75 1.75 0 0112.25 14h-8.5A1.75 1.75 0 012 12.25v-8.5C2 2.784 2.784 2 3.75 2zm6.854-1h4.146a.25.25 0 01.25.25v4.146a.25.25 0 01-.427.177L13.03 4.03 9.28 7.78a.751.751 0 01-1.042-.018.751.751 0 01-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0110.604 1z"></path>
                </svg>
              </a>
              <a href="https://skills.github.com/" class="sidebar-link" target="_blank" rel="noopener">
                GitHub Skills
                <svg class="external-icon" aria-hidden="true" height="12" viewBox="0 0 16 16" width="12">
                  <path fill="currentColor" d="M3.75 2h3.5a.75.75 0 010 1.5h-3.5a.25.25 0 00-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 00.25-.25v-3.5a.75.75 0 011.5 0v3.5A1.75 1.75 0 0112.25 14h-8.5A1.75 1.75 0 012 12.25v-8.5C2 2.784 2.784 2 3.75 2zm6.854-1h4.146a.25.25 0 01.25.25v4.146a.25.25 0 01-.427.177L13.03 4.03 9.28 7.78a.751.751 0 01-1.042-.018.751.751 0 01-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0110.604 1z"></path>
                </svg>
              </a>
            </nav>
          </div>
          
        </div>
      </aside>

      <!-- Main content area -->
      <main id="main-content" class="training-main">
      
        <div class="training-module">
        <!-- Module Header -->
        <header class="module-header">
          <div class="module-breadcrumb">
            <a href="/">Training Home</a>
            <span class="separator">‚Ä∫</span>
            <a href="/beginner/">Beginner Phase</a>
            <span class="separator">‚Ä∫</span>
            <a href="/beginner/module-4/">Module 4</a>
          </div>
          
          <h1 class="module-title">Knowledge Check</h1>
          
          <div class="module-meta">
            <span class="badge badge-beginner">Beginner</span>
            <span class="meta-item">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7-3.25v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5a.75.75 0 0 1 1.5 0Z"></path></svg>
              20 min
            </span>
            <span class="meta-item">
              Section 5 of 7
            </span>
          </div>
        </header>

        <!-- Progress Bar -->
        <div class="module-progress">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 71.42857142857143%"></div>
          </div>
          <div class="progress-steps">
            
              
              <a href="/beginner/module-4/overview/" 
                 class="progress-step completed"
                 title="Context & Overview">
                <span class="step-dot"></span>
                <span class="step-label">1</span>
              </a>
            
              
              <a href="/beginner/module-4/concepts/" 
                 class="progress-step completed"
                 title="Core Concepts">
                <span class="step-dot"></span>
                <span class="step-label">2</span>
              </a>
            
              
              <a href="/beginner/module-4/walkthrough/" 
                 class="progress-step completed"
                 title="Guided Walkthrough">
                <span class="step-dot"></span>
                <span class="step-label">3</span>
              </a>
            
              
              <a href="/beginner/module-4/labs/" 
                 class="progress-step completed"
                 title="Hands-On Labs">
                <span class="step-dot"></span>
                <span class="step-label">4</span>
              </a>
            
              
              <a href="/beginner/module-4/quiz/" 
                 class="progress-step active"
                 title="Knowledge Check">
                <span class="step-dot"></span>
                <span class="step-label">5</span>
              </a>
            
              
              <a href="/beginner/module-4/resources/" 
                 class="progress-step "
                 title="Resources">
                <span class="step-dot"></span>
                <span class="step-label">6</span>
              </a>
            
              
              <a href="/beginner/module-4/scenarios/" 
                 class="progress-step "
                 title="CSM Scenarios">
                <span class="step-dot"></span>
                <span class="step-label">7</span>
              </a>
            
          </div>
        </div>

        <!-- Section Navigation Tabs -->
        <nav class="section-tabs">
          
            
            <a href="/beginner/module-4/overview/" 
               class="section-tab ">
              <span class="tab-icon">üéØ</span>
              <span class="tab-title">Overview</span>
            </a>
          
            
            <a href="/beginner/module-4/concepts/" 
               class="section-tab ">
              <span class="tab-icon">üìö</span>
              <span class="tab-title">Concepts</span>
            </a>
          
            
            <a href="/beginner/module-4/walkthrough/" 
               class="section-tab ">
              <span class="tab-icon">üö∂</span>
              <span class="tab-title">Walkthrough</span>
            </a>
          
            
            <a href="/beginner/module-4/labs/" 
               class="section-tab ">
              <span class="tab-icon">üíª</span>
              <span class="tab-title">Labs</span>
            </a>
          
            
            <a href="/beginner/module-4/quiz/" 
               class="section-tab active">
              <span class="tab-icon">‚úÖ</span>
              <span class="tab-title">Quiz</span>
            </a>
          
            
            <a href="/beginner/module-4/resources/" 
               class="section-tab ">
              <span class="tab-icon">üìñ</span>
              <span class="tab-title">Resources</span>
            </a>
          
            
            <a href="/beginner/module-4/scenarios/" 
               class="section-tab ">
              <span class="tab-icon">üíº</span>
              <span class="tab-title">Scenarios</span>
            </a>
          
        </nav>

        <!-- Main Content with TOC Sidebar -->
        <div class="module-content-wrapper">
          <main id="main-content" class="module-content">
            <article class="section-content">
              <h1 id="knowledge-check">Knowledge Check</h1>

<p>Test your understanding of SCM process concepts.</p>

<h2 id="questions">Questions</h2>

<p><strong>Question 1:</strong> A customer wants to ensure all production code is reviewed by at least two people, but their emergency response team needs to be able to push hotfixes directly in critical situations. How should you configure this?</p>

<details>
  <summary>View Answer</summary>

  <p><strong>Best approach: Use Repository Rulesets with bypass actors</strong></p>

  <p>Configuration:</p>

  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Ruleset</span><span class="pi">:</span> <span class="s">Production Protection</span>
<span class="na">Enforcement</span><span class="pi">:</span> <span class="s">Active</span>
<span class="na">Bypass Actors</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="err">@</span><span class="s">emergency-response-team (with audit logging)</span>

<span class="na">Rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">Require pull request</span>
      <span class="s">Required approvals</span><span class="err">:</span> <span class="m">2</span>
  <span class="pi">-</span> <span class="s">Block force pushes</span>
  <span class="pi">-</span> <span class="s">Require status checks</span>

</code></pre></div>  </div>

  <p>This provides:
- Normal workflow requires 2 approvals
- Emergency team can bypass when needed
- All bypasses are logged for audit
- Better than disabling protection entirely</p>

  <p>Alternative with branch protection:
- Would need to use ‚ÄúAllow specified actors to bypass‚Äù
- Less flexible than rulesets for complex scenarios</p>
</details>

<p><strong>Question 2:</strong> What is the correct syntax to require both the security team AND the backend team to review any Python files in the authentication module?</p>

<details>
  <summary>View Answer</summary>

  <p>In CODEOWNERS:</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/src/auth/**/*.py    @org/security-team @org/backend-team

</code></pre></div>  </div>

  <p>Important notes:
- Both teams will be requested as reviewers
- By default, only ONE approval from listed owners is required
- To require ALL listed owners to approve, you need branch protection rule:
  - ‚ÄúRequire review from Code Owners‚Äù alone requires any CODEOWNER
  - Combined with required approvals count for multiple reviews</p>

  <p>For requiring BOTH teams specifically:
1. Enable ‚ÄúRequire review from Code Owners‚Äù in branch protection
2. Set ‚ÄúRequired approvals‚Äù to 2
3. Each team must provide at least one approval</p>
</details>

<p><strong>Question 3:</strong> A development team is experiencing frequent merge conflicts because developers work on long-lived feature branches. What branching strategy would you recommend to reduce this friction?</p>

<details>
  <summary>View Answer</summary>

  <p><strong>Recommend: Trunk-Based Development or GitHub Flow</strong></p>

  <p>For teams experiencing merge conflicts from long-lived branches:</p>

  <ol>
    <li><strong>GitHub Flow</strong> (moderate change):
      <ul>
        <li>Short-lived feature branches (1-3 days max)</li>
        <li>Merge to main frequently</li>
        <li>Deploy after each merge</li>
      </ul>
    </li>
    <li><strong>Trunk-Based Development</strong> (significant change):
      <ul>
        <li>Very short-lived branches (&lt; 1 day)</li>
        <li>Feature flags for incomplete work</li>
        <li>Continuous integration to main</li>
      </ul>
    </li>
  </ol>

  <p>Migration steps:
1. Establish CI/CD pipeline first
2. Implement feature flags
3. Set branch lifetime policies
4. Educate team on smaller, incremental changes</p>

  <p>Supporting GitHub features:
- Require ‚Äúup to date with base‚Äù in status checks
- Auto-merge when checks pass
- Branch auto-deletion after merge</p>
</details>

<p><strong>Question 4:</strong> What happens when multiple CODEOWNERS patterns match the same file?</p>

<details>
  <summary>View Answer</summary>

  <p><strong>The last matching pattern wins.</strong></p>

  <p>Example:</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>*                   @default-team
/src/               @dev-team
/src/api/           @api-team
/src/api/auth.py    @security-team

</code></pre></div>  </div>

  <p>For file <code class="language-plaintext highlighter-rouge">/src/api/auth.py</code>:
- <code class="language-plaintext highlighter-rouge">*</code> matches ‚Üí @default-team
- <code class="language-plaintext highlighter-rouge">/src/</code> matches ‚Üí @dev-team (overrides)
- <code class="language-plaintext highlighter-rouge">/src/api/</code> matches ‚Üí @api-team (overrides)
- <code class="language-plaintext highlighter-rouge">/src/api/auth.py</code> matches ‚Üí @security-team (final, wins)</p>

  <p>Only <code class="language-plaintext highlighter-rouge">@security-team</code> is assigned as the code owner.</p>

  <p>To require multiple teams, list them on the same line:</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/src/api/auth.py    @security-team @api-team

</code></pre></div>  </div>

</details>

<p><strong>Question 5:</strong> What is the difference between requiring ‚Äúsigned commits‚Äù and enabling ‚Äúvigilant mode‚Äù for a user?</p>

<details>
  <summary>View Answer</summary>

  <p><strong>Signed Commits (Repository/Branch Protection):</strong>
- Requirement at repository level
- Blocks unsigned commits from being merged
- Enforces that all contributors sign their commits
- Shows ‚úÖ Verified badge on signed commits</p>

  <p><strong>Vigilant Mode (User Setting):</strong>
- Personal user preference
- Shows ‚ö†Ô∏è Unverified for unsigned commits FROM THAT USER
- Helps identify if someone might be impersonating you
- Adds warning on commits that could have been signed but weren‚Äôt</p>

  <p>Key difference:
- Signed commits = ‚ÄúProve who made this commit‚Äù
- Vigilant mode = ‚ÄúFlag anything that might not be from me‚Äù</p>

  <p>Both together provide maximum trust:
- Repository requires signing (enforcement)
- User enables vigilant mode (visibility)</p>
</details>

<p><strong>Question 6:</strong> A customer has 500 repositories and wants to enforce consistent branch protection across all of them. What‚Äôs the most efficient approach?</p>

<details>
  <summary>View Answer</summary>

  <p><strong>Use Organization Rulesets (Enterprise feature)</strong></p>

  <p>Configuration:
1. Go to Organization Settings ‚Üí Rules ‚Üí Rulesets
2. Create new ruleset targeting all repositories:</p>

  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Ruleset</span><span class="pi">:</span> <span class="s">Enterprise Standard Protection</span>
<span class="na">Enforcement</span><span class="pi">:</span> <span class="s">Active</span>
<span class="na">Target repositories: All repositories (or pattern</span><span class="pi">:</span> <span class="err">*</span><span class="s">)</span>
<span class="na">Target branches</span><span class="pi">:</span> 
  <span class="pi">-</span> <span class="s">main</span>
  <span class="pi">-</span> <span class="s">release/*</span>

<span class="na">Rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">Require pull request (2 approvals)</span>
  <span class="pi">-</span> <span class="s">Require status checks</span>
  <span class="pi">-</span> <span class="s">Require signed commits</span>
  <span class="pi">-</span> <span class="s">Block force pushes</span>

</code></pre></div>  </div>

  <p>Benefits over per-repo configuration:
- Single point of management
- Automatic application to new repos
- Consistent enforcement
- Audit log for changes
- Can‚Äôt be overridden by repo admins (if desired)</p>

  <p>For non-Enterprise customers:
- Use GitHub API/CLI to script branch protection
- Implement a GitHub App to enforce on repo creation
- Use Terraform or similar IaC for GitHub configuration</p>
</details>

<p><strong>Question 7:</strong> Explain the difference between ‚ÄúRequire branches to be up to date before merging‚Äù and ‚ÄúRequire linear history.‚Äù</p>

<details>
  <summary>View Answer</summary>

  <p><strong>Require branches to be up to date before merging:</strong>
- Feature branch must include all commits from base branch
- Prevents merging outdated branches
- Requires rebasing or merging main into feature branch first
- Ensures status checks run against final merged state</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>main:    A--B--C--D
feature: A--B--X--Y  (missing C, D - must update first)

After update:
feature: A--B--C--D--X--Y  ‚úì Can now merge

</code></pre></div>  </div>

  <p><strong>Require linear history:</strong>
- Prevents merge commits on the protected branch
- Only allows ‚ÄúSquash and merge‚Äù or ‚ÄúRebase and merge‚Äù
- Creates cleaner, linear commit history
- No merge bubbles in git log</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Without linear history:
A--B--C--D--E--G (merge commit)
        \     /
         X--Y

With linear history:
A--B--C--D--E--X'--Y'  (squashed or rebased)

</code></pre></div>  </div>

  <p>Combined effect:
- Up to date + Linear = Must rebase feature branch onto latest main, then squash/rebase merge</p>
</details>

            </article>
          </main>
          
          <!-- Table of Contents Sidebar -->
          
          <aside class="section-toc">
            <h4>On This Page</h4>
            <nav class="toc-nav">
              <ul id="toc" class="toc-list">
<li class="toc-item toc-h2"><a href="#questions">Questions</a></li>
</ul>
            </nav>
          </aside>
          
        </div>

        <!-- Bottom Navigation -->
        <nav class="module-nav">
          
            <a href="/beginner/module-4/labs/" class="nav-button nav-prev">
              <span class="nav-direction">‚Üê Previous</span>
              <span class="nav-title">Hands-On Labs</span>
            </a>
          

          <div class="nav-center">
            <a href="/beginner/module-4/" class="nav-index">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16" fill="currentColor"><path d="M2 2.75A.75.75 0 0 1 2.75 2h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 2.75Zm0 5A.75.75 0 0 1 2.75 7h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 7.75ZM2.75 12h10.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5Z"></path></svg>
              Module Overview
            </a>
          </div>

          
            <a href="/beginner/module-4/resources/" class="nav-button nav-next">
              <span class="nav-direction">Next ‚Üí</span>
              <span class="nav-title">Resources</span>
            </a>
          
        </nav>
      </div>

      </main>
    </div>

    <footer class="training-footer">
  <div class="container">
    <div class="training-footer-content">
      <div class="footer-info">
        <p class="footer-text">GitHub Training Program v1.0 | Last updated: December 2025</p>
        <p class="footer-links">
          <a href="https://docs.github.com" target="_blank" rel="noopener">GitHub Docs</a> ‚Ä¢ 
          <a href="https://github.community" target="_blank" rel="noopener">Community</a> ‚Ä¢ 
          <a href="/syllabus/">Full Syllabus</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- Smooth scroll behavior -->
    <script>
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          const href = this.getAttribute('href');
          if (href !== '#') {
            e.preventDefault();
            const target = document.querySelector(href);
            if (target) {
              target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
          }
        });
      });

      // Add copy button to code blocks
      document.querySelectorAll('pre').forEach(pre => {
        // Create wrapper div
        const wrapper = document.createElement('div');
        wrapper.className = 'code-block-wrapper';
        pre.parentNode.insertBefore(wrapper, pre);
        wrapper.appendChild(pre);

        // Create copy button
        const button = document.createElement('button');
        button.className = 'copy-button';
        button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>';
        button.title = 'Copy to clipboard';
        wrapper.appendChild(button);

        // Copy functionality
        button.addEventListener('click', async () => {
          const code = pre.querySelector('code') ? pre.querySelector('code').textContent : pre.textContent;
          try {
            await navigator.clipboard.writeText(code);
            button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>';
            button.classList.add('copied');
            setTimeout(() => {
              button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>';
              button.classList.remove('copied');
            }, 2000);
          } catch (err) {
            console.error('Failed to copy:', err);
          }
        });
      });
    </script>

    <!-- Mermaid.js for diagrams with pan/zoom -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
    <script>
      // Initialize Mermaid with theme matching the training modules
      mermaid.initialize({
        startOnLoad: true,
        theme: 'base',
        themeVariables: {
          // Primary colors - matching GitHub/training theme
          primaryColor: '#ddf4ff',
          primaryTextColor: '#1f2328',
          primaryBorderColor: '#0969da',
          
          // Secondary and tertiary colors
          secondaryColor: '#f6f8fa',
          secondaryTextColor: '#1f2328',
          secondaryBorderColor: '#d0d7de',
          tertiaryColor: '#fff8c5',
          tertiaryTextColor: '#1f2328',
          tertiaryBorderColor: '#d4a72c',
          
          // Background colors
          background: '#ffffff',
          mainBkg: '#ddf4ff',
          secondBkg: '#f6f8fa',
          
          // Lines and borders
          lineColor: '#57606a',
          border1: '#d0d7de',
          border2: '#0969da',
          arrowheadColor: '#57606a',
          
          // Text styling
          fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif',
          fontSize: '14px',
          labelBackground: '#ffffff',
          nodeTextColor: '#1f2328',
          
          // Subgraph styling
          clusterBkg: '#f6f8fa',
          clusterBorder: '#d0d7de',
          
          // Note styling
          noteBkgColor: '#fff8c5',
          noteTextColor: '#1f2328',
          noteBorderColor: '#d4a72c'
        },
        flowchart: {
          useMaxWidth: true,
          htmlLabels: true,
          curve: 'basis',
          padding: 30,
          nodeSpacing: 50,
          rankSpacing: 70,
          subGraphTitleMargin: {
            top: 10,
            bottom: 20
          }
        },
        securityLevel: 'loose'
      });

      // Add pan/zoom to Mermaid diagrams after they render
      mermaid.run().then(() => {
        document.querySelectorAll('.mermaid-container svg').forEach((svg, index) => {
          // Ensure SVG has an ID for pan-zoom
          if (!svg.id) {
            svg.id = 'mermaid-svg-' + index;
          }
          
          // Set minimum dimensions on SVG for better visibility
          svg.style.minWidth = '100%';
          svg.style.minHeight = '300px';
          
          // Initialize pan-zoom
          const panZoom = svgPanZoom(svg, {
            zoomEnabled: true,
            controlIconsEnabled: true,
            fit: true,
            center: true,
            minZoom: 0.3,
            maxZoom: 10,
            zoomScaleSensitivity: 0.3,
            dblClickZoomEnabled: true,
            mouseWheelZoomEnabled: true,
            preventMouseEventsDefault: true,
            contain: false
          });

          // Handle window resize
          window.addEventListener('resize', () => {
            panZoom.resize();
            panZoom.fit();
            panZoom.center();
          });
        });
      });
    </script>

  </body>
</html>
